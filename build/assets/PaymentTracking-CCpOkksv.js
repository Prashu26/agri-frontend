import{r as f,j as e,y as _,aa as g,S as v,aj as se,a6 as A,A as W,B as I,t as E,u as ae,ak as re,ah as ne,V as le,al as ie,am as de,an as ce,ao as me}from"./index-CnOT8Fd6.js";import{c as oe,t as O,m as X,a as Z,f as R}from"./format-BlyJTOGp.js";function xe(a,s){const r=()=>oe(s==null?void 0:s.in,NaN),i=ge(a);let m;if(i.date){const o=pe(i.date,2);m=ye(o.restDateString,o.year)}if(!m||isNaN(+m))return r();const n=+m;let u=0,c;if(i.time&&(u=je(i.time),isNaN(u)))return r();if(i.timezone){if(c=Ne(i.timezone),isNaN(c))return r()}else{const o=new Date(n+u),j=O(0,s==null?void 0:s.in);return j.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),j.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),j}return O(n+u+c,s==null?void 0:s.in)}const P={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,he=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ge(a){const s={},r=a.split(P.dateTimeDelimiter);let l;if(r.length>2)return s;if(/:/.test(r[0])?l=r[0]:(s.date=r[0],l=r[1],P.timeZoneDelimiter.test(s.date)&&(s.date=a.split(P.timeZoneDelimiter)[0],l=a.substr(s.date.length,a.length))),l){const i=P.timezone.exec(l);i?(s.time=l.replace(i[1],""),s.timezone=i[1]):s.time=l}return s}function pe(a,s){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),l=a.match(r);if(!l)return{year:NaN,restDateString:""};const i=l[1]?parseInt(l[1]):null,m=l[2]?parseInt(l[2]):null;return{year:m===null?i:m*100,restDateString:a.slice((l[1]||l[2]).length)}}function ye(a,s){if(s===null)return new Date(NaN);const r=a.match(ue);if(!r)return new Date(NaN);const l=!!r[4],i=w(r[1]),m=w(r[2])-1,n=w(r[3]),u=w(r[4]),c=w(r[5])-1;if(l)return De(s,u,c)?be(s,u,c):new Date(NaN);{const o=new Date(0);return!we(s,m,n)||!ke(s,i)?new Date(NaN):(o.setUTCFullYear(s,m,Math.max(i,n)),o)}}function w(a){return a?parseInt(a):1}function je(a){const s=a.match(he);if(!s)return NaN;const r=U(s[1]),l=U(s[2]),i=U(s[3]);return Ce(r,l,i)?r*X+l*Z+i*1e3:NaN}function U(a){return a&&parseFloat(a.replace(",","."))||0}function Ne(a){if(a==="Z")return 0;const s=a.match(fe);if(!s)return 0;const r=s[1]==="+"?-1:1,l=parseInt(s[2]),i=s[3]&&parseInt(s[3])||0;return Ie(l,i)?r*(l*X+i*Z):NaN}function be(a,s,r){const l=new Date(0);l.setUTCFullYear(a,0,4);const i=l.getUTCDay()||7,m=(s-1)*7+r+1-i;return l.setUTCDate(l.getUTCDate()+m),l}const ve=[31,null,31,30,31,30,31,31,30,31,30,31];function H(a){return a%400===0||a%4===0&&a%100!==0}function we(a,s,r){return s>=0&&s<=11&&r>=1&&r<=(ve[s]||(H(a)?29:28))}function ke(a,s){return s>=1&&s<=(H(a)?366:365)}function De(a,s,r){return s>=1&&s<=53&&r>=0&&r<=6}function Ce(a,s,r){return a===24?s===0&&r===0:r>=0&&r<60&&s>=0&&s<60&&a>=0&&a<25}function Ie(a,s){return s>=0&&s<=59}const J=[{id:"PAY-2024-001",farmerId:"FARM-001",farmerName:"Rajesh Kumar",contact:"+91 98765 43210",village:"Nayagaon",crop:"Soybean",quantity:25,rate:4500,totalAmount:112500,paymentDate:"2024-10-20",status:"completed",paymentMethod:"Bank Transfer",transactionId:"TXN123456789",invoiceId:"INV-2024-001",notes:"Payment processed successfully",documents:[{name:"invoice_001.pdf",type:"invoice",uploadedAt:"2024-10-20"},{name:"receipt_001.pdf",type:"receipt",uploadedAt:"2024-10-20"}]},{id:"PAY-2024-002",farmerId:"FARM-002",farmerName:"Suresh Patel",contact:"+91 98765 43211",village:"Bilaspur",crop:"Wheat",quantity:18,rate:2200,totalAmount:39600,paymentDate:"2024-10-18",status:"pending",paymentMethod:"UPI",transactionId:"TXN123456790",invoiceId:"INV-2024-002",notes:"Waiting for payment confirmation",documents:[{name:"invoice_002.pdf",type:"invoice",uploadedAt:"2024-10-18"}]},{id:"PAY-2024-003",farmerId:"FARM-003",farmerName:"Vijay Singh",contact:"+91 98765 43212",village:"Raipur",crop:"Rice",quantity:30,rate:2100,totalAmount:63e3,paymentDate:"2024-10-15",status:"failed",paymentMethod:"Bank Transfer",transactionId:"TXN123456791",invoiceId:"INV-2024-003",notes:"Bank account details incorrect",documents:[{name:"invoice_003.pdf",type:"invoice",uploadedAt:"2024-10-15"}]},{id:"PAY-2024-004",farmerId:"FARM-004",farmerName:"Anita Devi",contact:"+91 98765 43213",village:"Durg",crop:"Maize",quantity:20,rate:1850,totalAmount:37e3,paymentDate:"2024-10-10",status:"completed",paymentMethod:"UPI",transactionId:"TXN123456792",invoiceId:"INV-2024-004",notes:"Payment processed successfully",documents:[{name:"invoice_004.pdf",type:"invoice",uploadedAt:"2024-10-10"},{name:"receipt_004.pdf",type:"receipt",uploadedAt:"2024-10-10"}]},{id:"PAY-2024-005",farmerId:"FARM-005",farmerName:"Rameshwar Yadav",contact:"+91 98765 43214",village:"Bhilai",crop:"Pulses",quantity:15,rate:6500,totalAmount:97500,paymentDate:"2024-10-05",status:"processing",paymentMethod:"Bank Transfer",transactionId:"TXN123456793",invoiceId:"INV-2024-005",notes:"Payment under process",documents:[{name:"invoice_005.pdf",type:"invoice",uploadedAt:"2024-10-05"}]}],F={totalPayments:5,totalAmount:349600,pendingPayments:1,failedPayments:1,recentTransactions:J.slice(0,3)},Pe=[{method:"Bank Transfer",count:3,amount:213100},{method:"UPI",count:2,amount:136500},{method:"Cash",count:0,amount:0},{method:"Cheque",count:0,amount:0}],Te=()=>{const[a,s]=f.useState(""),[r,l]=f.useState("all"),[i,m]=f.useState({start:"",end:""}),[n,u]=f.useState(null),[c,o]=f.useState({key:"paymentDate",direction:"desc"}),[j,M]=f.useState(!1),[x,q]=f.useState({farmerId:"",farmerName:"",amount:"",paymentDate:R(new Date,"yyyy-MM-dd"),paymentMethod:"Bank Transfer",notes:""}),[N,Y]=f.useState(J),[B,K]=f.useState(!1),[h,b]=f.useState("all"),$=[...N.filter(t=>{var V;const d=t.farmerName.toLowerCase().includes(a.toLowerCase())||t.id.toLowerCase().includes(a.toLowerCase())||t.farmerId.toLowerCase().includes(a.toLowerCase())||((V=t.transactionId)==null?void 0:V.toLowerCase().includes(a.toLowerCase())),p=r==="all"||t.status===r,ee=(!i.start||t.paymentDate>=i.start)&&(!i.end||t.paymentDate<=i.end),te=h==="all"||h==="completed"&&t.status==="completed"||h==="pending"&&t.status==="pending"||h==="failed"&&t.status==="failed"||h==="processing"&&t.status==="processing";return d&&p&&ee&&te})].sort((t,d)=>t[c.key]<d[c.key]?c.direction==="asc"?-1:1:t[c.key]>d[c.key]?c.direction==="asc"?1:-1:0),k=t=>{let d="asc";c.key===t&&c.direction==="asc"&&(d="desc"),o({key:t,direction:d})},D=t=>c.key!==t?e.jsx(de,{className:"ml-1 text-gray-400"}):c.direction==="asc"?e.jsx(ce,{className:"ml-1"}):e.jsx(me,{className:"ml-1"}),L=t=>{switch(t){case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(W,{className:"mr-1"})," Completed"]});case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{className:"mr-1"})," Pending"]});case"failed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(A,{className:"mr-1"})," Failed"]});case"processing":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(I,{className:"mr-1"})," Processing"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:t})}},S=t=>t?R(xe(t),"dd MMM yyyy"):"N/A",C=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),y=t=>{const{name:d,value:p}=t.target;q({...x,[d]:p})},Q=t=>{t.preventDefault();const d={id:`PAY-${new Date().getFullYear()}-${String(N.length+1).padStart(3,"0")}`,farmerId:x.farmerId,farmerName:x.farmerName,totalAmount:parseFloat(x.amount),paymentDate:x.paymentDate,status:"pending",paymentMethod:x.paymentMethod,transactionId:`TXN${Math.floor(1e8+Math.random()*9e8)}`,invoiceId:`INV-${new Date().getFullYear()}-${String(N.length+1).padStart(3,"0")}`,notes:x.notes,documents:[]};Y([d,...N]),M(!1),q({farmerId:"",farmerName:"",amount:"",paymentDate:R(new Date,"yyyy-MM-dd"),paymentMethod:"Bank Transfer",notes:""})},T=(t,d)=>{Y(N.map(p=>p.id===t?{...p,status:d}:p)),n&&n.id===t&&u({...n,status:d})},z=t=>{switch(t.toLowerCase()){case"bank transfer":return e.jsx(v,{className:"text-blue-500"});case"upi":return e.jsx(v,{className:"text-green-500"});case"cash":return e.jsx(v,{className:"text-yellow-500"});case"cheque":return e.jsx(g,{className:"text-purple-500"});default:return e.jsx(v,{className:"text-gray-500"})}},G=t=>{switch(t){case"invoice":return e.jsx(g,{className:"text-blue-500"});case"receipt":return e.jsx(g,{className:"text-green-500"});default:return e.jsx(g,{className:"text-gray-500"})}};return e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Manage and track payments to farmers"})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[e.jsxs("button",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 flex items-center",children:[e.jsx(_,{className:"mr-2"})," Export"]}),e.jsxs("button",{onClick:()=>M(!0),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 flex items-center",children:[e.jsx(g,{className:"mr-2"})," New Payment"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4",children:e.jsx(g,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Payments"}),e.jsx("p",{className:"text-2xl font-semibold",children:F.totalPayments})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600 mr-4",children:e.jsx(v,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-semibold",children:C(F.totalAmount)})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600 mr-4",children:e.jsx(se,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),e.jsx("p",{className:"text-2xl font-semibold",children:F.pendingPayments})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-red-100 text-red-600 mr-4",children:e.jsx(A,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Failed"}),e.jsx("p",{className:"text-2xl font-semibold",children:F.failedPayments})]})]})})]}),e.jsxs("div",{className:"flex border-b mb-6",children:[e.jsx("button",{className:`py-2 px-4 font-medium text-sm flex items-center ${h==="all"?"border-b-2 border-green-500 text-green-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>b("all"),children:"All Payments"}),e.jsxs("button",{className:`py-2 px-4 font-medium text-sm flex items-center ${h==="completed"?"border-b-2 border-green-500 text-green-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>b("completed"),children:[e.jsx(W,{className:"mr-1"})," Completed"]}),e.jsxs("button",{className:`py-2 px-4 font-medium text-sm flex items-center ${h==="pending"?"border-b-2 border-yellow-500 text-yellow-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>b("pending"),children:[e.jsx(I,{className:"mr-1"})," Pending"]}),e.jsxs("button",{className:`py-2 px-4 font-medium text-sm flex items-center ${h==="failed"?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>b("failed"),children:[e.jsx(A,{className:"mr-1"})," Failed"]}),e.jsxs("button",{className:`py-2 px-4 font-medium text-sm flex items-center ${h==="processing"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>b("processing"),children:[e.jsx(I,{className:"mr-1"})," Processing"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsx("div",{className:"w-full md:w-1/3 mb-4 md:mb-0 md:mr-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(E,{className:"text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Search payments...",value:a,onChange:t=>s(t.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"appearance-none bg-white border border-gray-300 rounded-md pl-3 pr-8 py-2 text-sm focus:outline-none focus:ring-green-500 focus:border-green-500",value:r,onChange:t=>l(t.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"processing",children:"Processing"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:e.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),e.jsxs("button",{onClick:()=>K(!B),className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 flex items-center",children:[e.jsx(ae,{className:"mr-1"})," Filters"]})]})]}),B&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"date",className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:i.start,onChange:t=>m({...i,start:t.target.value})}),e.jsx("input",{type:"date",className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:i.end,onChange:t=>m({...i,end:t.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("select",{className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:r,onChange:t=>l(t.target.value),children:[e.jsx("option",{value:"all",children:"All Methods"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Cheque",children:"Cheque"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{m({start:"",end:""}),l("all")},className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Clear Filters"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("id"),children:e.jsxs("div",{className:"flex items-center",children:["Payment ID",D("id")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("farmerName"),children:e.jsxs("div",{className:"flex items-center",children:["Farmer",D("farmerName")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("totalAmount"),children:e.jsxs("div",{className:"flex items-center",children:["Amount",D("totalAmount")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("paymentDate"),children:e.jsxs("div",{className:"flex items-center",children:["Date",D("paymentDate")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.length>0?$.map(t=>e.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${(n==null?void 0:n.id)===t.id?"bg-blue-50":""}`,onClick:()=>u(t),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.id}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.farmerName}),e.jsx("div",{className:"text-xs text-gray-500",children:t.farmerId})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:C(t.totalAmount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(t.paymentDate)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L(t.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:d=>{d.stopPropagation(),u(t)},children:"View"})})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-sm text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(E,{className:"h-12 w-12 text-gray-300 mb-2"}),e.jsx("p",{children:"No payments found matching your criteria."})]})})})})]})})})}),e.jsxs("div",{className:"lg:col-span-1",children:[n?e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Payment Details"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:e.jsx(re,{className:"h-5 w-5"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:e.jsx(ne,{className:"h-5 w-5"})})]})]})}),e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Payment ID"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.id})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Invoice ID"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.invoiceId})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Farmer"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:n.farmerName}),e.jsx("p",{className:"text-xs text-gray-500",children:n.farmerId}),e.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[e.jsx(le,{className:"mr-2 h-3 w-3"}),e.jsx("span",{children:n.contact})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ie,{className:"mr-2 h-3 w-3"}),e.jsx("span",{children:n.village})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Crop Details"}),e.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Crop"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.crop})]}),n.quantity&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Quantity"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[n.quantity," quintals"]})]}),n.rate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Rate"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["₹",n.rate,"/quintal"]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Amount"}),e.jsx("p",{className:"text-sm text-gray-900",children:C(n.totalAmount)})]}),e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center",children:[z(n.paymentMethod),e.jsx("span",{className:"ml-1 text-sm text-gray-900",children:n.paymentMethod})]})]}),n.transactionId&&e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.transactionId})]}),e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Payment Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:S(n.paymentDate)})]}),e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("div",{children:L(n.status)})]})]}),n.notes&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.notes})]}),n.documents&&n.documents.length>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Documents"}),e.jsx("div",{className:"space-y-2",children:n.documents.map((t,d)=>e.jsxs("div",{className:"flex items-center p-2 border border-gray-200 rounded-md",children:[e.jsx("div",{className:"flex-shrink-0",children:G(t.type)}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[S(t.uploadedAt)," • ",t.type]})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(_,{className:"h-4 w-4"})})})]},d))})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Actions"}),e.jsxs("div",{className:"space-y-2",children:[n.status==="pending"&&e.jsx("button",{onClick:()=>T(n.id,"processing"),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Mark as Processing"}),n.status==="processing"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T(n.id,"completed"),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Mark as Completed"}),e.jsx("button",{onClick:()=>T(n.id,"failed"),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Mark as Failed"})]}),e.jsx("button",{className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Send Receipt"}),e.jsx("button",{className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Download Invoice"})]})]})]})})]}):e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg p-6 text-center",children:[e.jsx(g,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No payment selected"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a payment to view details"})]}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Payment Methods"})}),e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsx("div",{className:"space-y-4",children:Pe.map((t,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[z(t.method),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:t.method})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C(t.amount)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.count," transactions"]})]})]},d))})})]})]})]})]}),j&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(g,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Payment"}),e.jsx("div",{className:"mt-4",children:e.jsxs("form",{onSubmit:Q,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"farmerId",className:"block text-sm font-medium text-gray-700",children:"Farmer ID"}),e.jsx("input",{type:"text",name:"farmerId",id:"farmerId",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:x.farmerId,onChange:y,placeholder:"Enter Farmer ID"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"farmerName",className:"block text-sm font-medium text-gray-700",children:"Farmer Name"}),e.jsx("input",{type:"text",name:"farmerName",id:"farmerName",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:x.farmerName,onChange:y,placeholder:"Enter Farmer Name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (₹)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"₹"})}),e.jsx("input",{type:"number",name:"amount",id:"amount",required:!0,min:"0",step:"0.01",className:"focus:ring-green-500 focus:border-green-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00",value:x.amount,onChange:y})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-gray-700",children:"Payment Date"}),e.jsx("input",{type:"date",name:"paymentDate",id:"paymentDate",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:x.paymentDate,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),e.jsxs("select",{id:"paymentMethod",name:"paymentMethod",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:x.paymentMethod,onChange:y,children:[e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Cheque",children:"Cheque"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{id:"notes",name:"notes",rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",value:x.notes,onChange:y,placeholder:"Add any notes or reference..."})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",children:"Record Payment"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>M(!1),children:"Cancel"})]})]})})]})]})})})]})})]})};export{Te as default};
