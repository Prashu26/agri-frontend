import{G as P,r,j as e,T as D,t as T,U as j,V as O,W as L,X as $,Y as I,Z as R,_ as E}from"./index-CnOT8Fd6.js";import{a as B,b as V}from"./index.esm-BeorZmXn.js";import{f as N}from"./format-BlyJTOGp.js";function W(a){return P({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"}}]})(a)}const Y=[{id:1,name:"Rajesh Kumar",role:"Farmer",lastMessage:"When will the next procurement happen?",time:"10:30 AM",unread:2,avatar:"https://randomuser.me/api/portraits/men/1.jpg",online:!0,messages:[{id:1,text:"Namaste, when is the next procurement date?",time:"10:20 AM",sent:!1,read:!0},{id:2,text:"Hello Rajesh, the next procurement is scheduled for 25th October.",time:"10:25 AM",sent:!0,read:!0},{id:3,text:"When will the next procurement happen?",time:"10:30 AM",sent:!1,read:!1}]},{id:2,name:"Suresh Patel",role:"Farmer",lastMessage:"Received the payment, thank you!",time:"Yesterday",unread:0,avatar:"https://randomuser.me/api/portraits/men/2.jpg",online:!1},{id:3,name:"Vijay Singh",role:"Farmer",lastMessage:"Need information about organic farming",time:"Yesterday",unread:0,avatar:"https://randomuser.me/api/portraits/men/3.jpg",online:!0},{id:4,name:"Anita Devi",role:"Farmer",lastMessage:"When is the next training session?",time:"Monday",unread:0,avatar:"https://randomuser.me/api/portraits/women/1.jpg",online:!1},{id:5,name:"Rameshwar Yadav",role:"Farmer",lastMessage:"I have submitted my documents",time:"Last week",unread:0,avatar:"https://randomuser.me/api/portraits/men/4.jpg",online:!1}],q=[{id:1,title:"Next Procurement Date",content:"The next procurement for Soybean and Groundnut will be on 25th October 2024. Please ensure your produce meets the quality standards.",date:"2024-10-20",priority:"high",read:!1},{id:2,title:"Training Session on Organic Farming",content:"Join us for a training session on Organic Farming Practices on 28th October 2024 at the FPO office.",date:"2024-10-18",priority:"medium",read:!0},{id:3,title:"New Market Rates",content:"Updated market rates for various crops have been published. Please check the app for details.",date:"2024-10-15",priority:"medium",read:!0}],J=()=>{var y;const[a,u]=r.useState("chats"),[m,v]=r.useState(""),[s,h]=r.useState(null),[i,g]=r.useState(""),[f,w]=r.useState(Y),[x,b]=r.useState(q),[p,o]=r.useState(!1),[n,d]=r.useState({title:"",content:"",priority:"medium",date:new Date().toISOString().split("T")[0]}),C=f.filter(t=>t.name.toLowerCase().includes(m.toLowerCase())||t.lastMessage.toLowerCase().includes(m.toLowerCase())),S=t=>{if(t.preventDefault(),!i.trim())return;const l={id:Date.now(),text:i,time:N(new Date,"h:mm a"),sent:!0,read:!1},A=f.map(c=>c.id===s.id?{...c,lastMessage:i,time:"Just now",messages:[...c.messages||[],l]}:c);w(A),g("")},k=t=>{t.preventDefault();const l={id:Date.now(),...n,read:!1,date:new Date().toISOString().split("T")[0]};b([l,...x]),o(!1),d({title:"",content:"",priority:"medium",date:new Date().toISOString().split("T")[0]})},F=t=>{b(x.map(l=>l.id===t?{...l,read:!0}:l))},M=t=>{switch(t){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsxs("div",{className:"w-full md:w-1/3 lg:w-1/4 bg-white border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Communications"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:e.jsx(D,{className:"text-gray-500"})}),e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:e.jsx(B,{className:"text-gray-500"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(T,{className:"text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-full bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Search conversations...",value:m,onChange:t=>v(t.target.value)})]}),e.jsxs("div",{className:"flex mt-4 border-b",children:[e.jsx("button",{className:`flex-1 py-2 px-1 text-center border-b-2 font-medium text-sm ${a==="chats"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>u("chats"),children:"Chats"}),e.jsx("button",{className:`flex-1 py-2 px-1 text-center border-b-2 font-medium text-sm ${a==="announcements"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>u("announcements"),children:"Announcements"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:a==="chats"?e.jsx("div",{className:"divide-y divide-gray-200",children:C.map(t=>e.jsxs("div",{className:`p-3 hover:bg-gray-50 cursor-pointer flex items-center ${(s==null?void 0:s.id)===t.id?"bg-green-50":""}`,onClick:()=>h(t),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.avatar,alt:t.name,className:"h-12 w-12 rounded-full object-cover"}),t.online&&e.jsx("span",{className:"absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-green-500 border-2 border-white"})]}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("span",{className:"text-xs text-gray-500",children:t.time})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-500 truncate max-w-[180px]",children:t.lastMessage}),t.unread>0&&e.jsx("span",{className:"bg-green-500 text-white text-xs font-semibold px-2 py-0.5 rounded-full",children:t.unread})]}),e.jsx("span",{className:"text-xs text-gray-400",children:t.role})]})]},t.id))}):e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>o(!0),className:"w-full mb-3 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center justify-center",children:[e.jsx(FaPlus,{className:"mr-2"})," New Announcement"]}),x.map(t=>e.jsxs("div",{className:`p-3 mb-2 rounded-lg border ${t.read?"bg-white border-gray-200":"bg-blue-50 border-blue-200"}`,onClick:()=>F(t.id),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${M(t.priority)}`,children:t.priority})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.content.length>80?`${t.content.substring(0,80)}...`:t.content}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-400",children:N(new Date(t.date),"MMM d, yyyy")}),!t.read&&e.jsx("span",{className:"h-2 w-2 bg-blue-500 rounded-full"})]})]},t.id))]})})]}),e.jsx("div",{className:"hidden md:flex md:flex-1 flex-col bg-white",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"md:hidden mr-2 p-1 rounded-full hover:bg-gray-100",onClick:()=>h(null),children:e.jsx(j,{className:"text-gray-600"})}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"h-10 w-10 rounded-full object-cover"}),s.online&&e.jsx("span",{className:"absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-green-500 border-2 border-white"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.online?"Online":"Offline"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100",children:e.jsx(O,{})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100",children:e.jsx(L,{})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100",children:e.jsx($,{})})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:e.jsx("div",{className:"space-y-4",children:(y=s.messages)==null?void 0:y.map(t=>e.jsx("div",{className:`flex ${t.sent?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${t.sent?"bg-green-100 rounded-tr-none":"bg-white border border-gray-200 rounded-tl-none"}`,children:[e.jsx("p",{className:"text-sm text-gray-800",children:t.text}),e.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:t.time}),t.sent&&e.jsx("span",{className:"text-xs",children:t.read?e.jsx(I,{className:"text-blue-500"}):e.jsx(R,{className:"text-gray-400"})})]})]})},t.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:S,className:"flex items-center",children:[e.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700",children:e.jsx(E,{})}),e.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700",children:e.jsx(V,{})}),e.jsx("input",{type:"text",className:"flex-1 mx-2 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Type a message...",value:i,onChange:t=>g(t.target.value)}),e.jsx("button",{type:"submit",className:"p-2 text-white bg-green-500 rounded-full hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:e.jsx(W,{})})]})})]}):p?e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"New Announcement"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(j,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",id:"title",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:n.title,onChange:t=>d({...n,title:t.target.value}),placeholder:"Enter announcement title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content"}),e.jsx("textarea",{id:"content",rows:"6",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:n.content,onChange:t=>d({...n,content:t.target.value}),placeholder:"Enter announcement details..."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),e.jsxs("select",{id:"priority",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:n.priority,onChange:t=>d({...n,priority:t.target.value}),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Publish Announcement"})]})]})]})}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[e.jsx("div",{className:"bg-green-100 p-4 rounded-full mb-4",children:e.jsx(FaCommentAlt,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No conversation selected"}),e.jsx("p",{className:"text-gray-500 max-w-md",children:a==="chats"?"Select a conversation or start a new one to begin messaging.":"Create a new announcement or select an existing one to view details."}),a==="announcements"&&!p&&e.jsx("button",{onClick:()=>o(!0),className:"mt-4 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"New Announcement"})]})})]})};export{J as default};
