import{r as a,j as e}from"./index-CnOT8Fd6.js";import{F,a as A,b as g,c as L,d as f,e as V,f as T,g as E,h as M,i as D}from"./index.esm-Ci8XTQGl.js";import{M as $}from"./react-tooltip.min-CKZfoAab.js";const o=[{id:1,name:"Rice",region:"North",adoptionRate:85,area:12500,farmers:245,trend:"up",trendValue:12},{id:2,name:"Wheat",region:"North",adoptionRate:78,area:9800,farmers:198,trend:"up",trendValue:8},{id:3,name:"Maize",region:"Central",adoptionRate:65,area:7500,farmers:156,trend:"up",trendValue:15},{id:4,name:"Cotton",region:"West",adoptionRate:72,area:6800,farmers:132,trend:"down",trendValue:5},{id:5,name:"Sugarcane",region:"South",adoptionRate:88,area:10200,farmers:210,trend:"up",trendValue:18},{id:6,name:"Pulses",region:"East",adoptionRate:58,area:5200,farmers:98,trend:"up",trendValue:22},{id:7,name:"Oilseeds",region:"Central",adoptionRate:62,area:6100,farmers:112,trend:"down",trendValue:3},{id:8,name:"Vegetables",region:"South",adoptionRate:92,area:8900,farmers:201,trend:"up",trendValue:25}],Z=["All","North","South","East","West","Central"],I=["Last 7 days","Last 30 days","Last 90 days","This year","All time"],B=()=>{const[n,j]=a.useState("All"),[x,b]=a.useState("This year"),[t,m]=a.useState(null),[h,p]=a.useState(1),[d,i]=a.useState(!1),[c,u]=a.useState("grid"),[r,N]=a.useState(o);a.useEffect(()=>{i(!0);const s=setTimeout(()=>{const l=n==="All"?[...o]:o.filter(S=>S.region===n);N(l),i(!1)},500);return()=>clearTimeout(s)},[n,x]);const v=s=>s>=80?"bg-green-600":s>=60?"bg-green-400":s>=40?"bg-yellow-400":s>=20?"bg-orange-400":"bg-red-400",y=()=>p(s=>Math.min(s+.1,1.5)),w=()=>p(s=>Math.max(s-.1,.7)),R=r.reduce((s,l)=>s+l.adoptionRate,0)/(r.length||1),k=()=>{console.log("Exporting data...",r),alert("Export functionality would be implemented here")},C=()=>{i(!0),setTimeout(()=>{i(!1)},1e3)};return e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"h-6 w-6 text-green-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Crop Adoption Heatmap"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:C,disabled:d,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[e.jsx(A,{className:`h-4 w-4 mr-1 ${d?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:k,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(g,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700 mb-1",children:"Region"}),e.jsx("div",{className:"relative",children:e.jsx("select",{id:"region",value:n,onChange:s=>j(s.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:Z.map(s=>e.jsx("option",{value:s,children:s},s))})})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{htmlFor:"timeRange",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),e.jsx("div",{className:"relative",children:e.jsx("select",{id:"timeRange",value:x,onChange:s=>b(s.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:I.map(s=>e.jsx("option",{value:s,children:s},s))})})]}),e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("button",{onClick:()=>u("grid"),className:`p-2 rounded-md ${c==="grid"?"bg-green-100 text-green-700":"text-gray-500 hover:bg-gray-100"}`,title:"Grid View",children:e.jsx(L,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>u("chart"),className:`p-2 rounded-md ${c==="chart"?"bg-green-100 text-green-700":"text-gray-500 hover:bg-gray-100"}`,title:"Chart View",children:e.jsx(f,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-end space-x-1",children:[e.jsx("button",{onClick:w,disabled:h<=.7,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-md disabled:opacity-50",title:"Zoom Out",children:e.jsx(V,{className:"h-5 w-5"})}),e.jsx("button",{onClick:y,disabled:h>=1.5,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-md disabled:opacity-50",title:"Zoom In",children:e.jsx(T,{className:"h-5 w-5"})})]})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Average Adoption Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[R.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"across all crops"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Crops Tracked"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:r.length}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"in selected region"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Area"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[(r.reduce((s,l)=>s+l.area,0)/1e3).toFixed(1),"K Ha"]}),e.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"under cultivation"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Farmers Engaged"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:r.reduce((s,l)=>s+l.farmers,0).toLocaleString()}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"in selected region"})]})]}),c==="grid"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crop"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Region"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adoption Rate"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area (Ha)"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Farmers"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(s=>e.jsxs("tr",{className:`hover:bg-gray-50 ${(t==null?void 0:t.id)===s.id?"bg-blue-50":""}`,onClick:()=>m(s),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(E,{className:"h-5 w-5 text-green-600"})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.region})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2.5 mr-2",children:e.jsx("div",{className:`h-2.5 rounded-full ${v(s.adoptionRate)}`,style:{width:`${s.adoptionRate}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[s.adoptionRate,"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.area.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.farmers.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`flex items-center ${s.trend==="up"?"text-green-600":"text-red-600"}`,children:[s.trend==="up"?e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 01.707.293l4 4a1 1 0 01-1.414 1.414L12 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4A1 1 0 0112 7z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12 13a1 1 0 01-.707-.293l-4-4a1 1 0 111.414-1.414L12 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4A1 1 0 0112 13z",clipRule:"evenodd"})}),e.jsxs("span",{className:"text-sm font-medium",children:[s.trendValue,"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{className:"text-green-600 hover:text-green-900 mr-3",children:"View Details"})})]},s.id))})]})}):e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(f,{className:"h-6 w-6 text-green-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Crop Adoption Trends"})]}),e.jsx("div",{className:"h-64 flex items-center justify-center bg-white rounded border border-gray-200",children:e.jsx("p",{className:"text-gray-500",children:"Interactive chart visualization would be displayed here"})}),e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:e.jsx("p",{children:"Switch to grid view for detailed tabular data"})})]}),t&&e.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4 border border-blue-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h3",{className:"text-lg font-medium text-blue-800",children:[t.name," Details"]}),e.jsx("button",{onClick:()=>m(null),className:"text-blue-600 hover:text-blue-800",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Region"}),e.jsx("p",{className:"text-lg font-semibold text-blue-900",children:t.region})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Adoption Rate"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:[t.adoptionRate,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Area Under Cultivation"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:[t.area.toLocaleString()," Ha"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Farmers Engaged"}),e.jsx("p",{className:"text-lg font-semibold text-blue-900",children:t.farmers.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Trend"}),e.jsxs("p",{className:`text-lg font-semibold ${t.trend==="up"?"text-green-600":"text-red-600"}`,children:[t.trend==="up"?"↑":"↓"," ",t.trendValue,"% from last period"]})]}),e.jsx("button",{className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Full Report"})]})})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-medium",children:"Adoption Rate:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-green-600"}),e.jsx("span",{children:"80-100%"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-green-400"}),e.jsx("span",{children:"60-79%"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-yellow-400"}),e.jsx("span",{children:"40-59%"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-orange-400"}),e.jsx("span",{children:"20-39%"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-red-400"}),e.jsx("span",{children:"0-19%"})]})]}),e.jsxs("div",{className:"mt-2 sm:mt-0",children:[e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center","data-tooltip-id":"heatmap-info","data-tooltip-content":"The adoption rate represents the percentage of farmers in the region who have adopted this crop compared to the total number of farmers in the region.",children:[e.jsx(M,{className:"mr-1"}),e.jsx("span",{children:"What does this mean?"})]}),e.jsx($,{id:"heatmap-info",place:"top",effect:"solid"})]})]})]})}),e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Data updated: ",new Date().toLocaleString()]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"text-xs text-blue-600 hover:text-blue-800",children:[e.jsx(D,{className:"inline mr-1"})," Schedule Report"]}),e.jsxs("button",{className:"text-xs text-blue-600 hover:text-blue-800",children:[e.jsx(g,{className:"inline mr-1"})," Export Data"]})]})]})})]})};export{B as default};
