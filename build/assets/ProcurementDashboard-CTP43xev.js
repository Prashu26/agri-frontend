import{r as n,j as e,y as A,s as N,R as I,S as L,d as B,t as v}from"./index-CnOT8Fd6.js";import{c as w}from"./index.esm-whZ6v6kq.js";const O=[{id:"PROC-2024-001",farmer:"Rajesh Kumar",crop:"Soybean",variety:"JS 335",quantity:25,quality:"Grade A",price:4500,status:"completed",procurementDate:"2024-10-20",paymentStatus:"paid",documents:["quality_report.pdf","invoice_001.pdf"]},{id:"PROC-2024-002",farmer:"Suresh Patel",crop:"Groundnut",variety:"TG 37A",quantity:18,quality:"Grade A",price:5800,status:"in-progress",procurementDate:"2024-10-22",paymentStatus:"pending",documents:["quality_report_002.pdf"]},{id:"PROC-2024-003",farmer:"Vijay Singh",crop:"Mustard",variety:"Pusa Bold",quantity:30,quality:"Grade B",price:5200,status:"scheduled",procurementDate:"2024-10-25",paymentStatus:"pending",documents:[]},{id:"PROC-2024-004",farmer:"Anita Devi",crop:"Sunflower",variety:"KBSH 44",quantity:15,quality:"Grade A",price:4900,status:"completed",procurementDate:"2024-10-18",paymentStatus:"paid",documents:["quality_report_004.pdf","invoice_004.pdf"]},{id:"PROC-2024-005",farmer:"Rameshwar Yadav",crop:"Soybean",variety:"JS 9560",quantity:22,quality:"Grade A",price:4550,status:"cancelled",procurementDate:"2024-10-15",paymentStatus:"refunded",documents:["cancellation_note.pdf"]}],c={totalProcurement:98,totalFarmers:42,pendingPayments:2,avgPrice:4980},E=()=>{const[i,S]=n.useState(O),[d,g]=n.useState(""),[o,f]=n.useState("all"),[m,y]=n.useState("all"),[r,u]=n.useState({start:"",end:""}),[q,x]=n.useState(!1),[s,b]=n.useState({farmer:"",crop:"",variety:"",quantity:"",quality:"Grade A",price:"",procurementDate:new Date().toISOString().split("T")[0]}),j=i.filter(t=>{const l=t.farmer.toLowerCase().includes(d.toLowerCase())||t.id.toLowerCase().includes(d.toLowerCase())||t.crop.toLowerCase().includes(d.toLowerCase()),p=o==="all"||t.status===o,h=m==="all"||t.crop===m,R=(!r.start||t.procurementDate>=r.start)&&(!r.end||t.procurementDate<=r.end);return l&&p&&h&&R}),C=[...new Set(i.map(t=>t.crop))],a=t=>{const{name:l,value:p}=t.target;b(h=>({...h,[l]:p}))},k=t=>{t.preventDefault();const l={id:`PROC-${new Date().getFullYear()}-${String(i.length+1).padStart(3,"0")}`,...s,status:"scheduled",paymentStatus:"pending",documents:[],quantity:parseFloat(s.quantity),price:parseFloat(s.price)};S([l,...i]),x(!1),b({farmer:"",crop:"",variety:"",quantity:"",quality:"Grade A",price:"",procurementDate:new Date().toISOString().split("T")[0]})},P=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=t=>{switch(t){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},F=t=>new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),G=(t,l)=>(t*l).toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});return e.jsx("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Procurement Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Manage and track your procurement activities"})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[e.jsxs("button",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 flex items-center",children:[e.jsx(A,{className:"mr-2"})," Export"]}),e.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 flex items-center",children:[e.jsx(N,{className:"mr-2"})," New Procurement"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600 mr-4",children:e.jsx(I,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Procurement"}),e.jsxs("p",{className:"text-2xl font-semibold",children:[c.totalProcurement," ",e.jsx("span",{className:"text-sm font-normal",children:"quintals"})]})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4",children:e.jsx(w,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Farmers"}),e.jsxs("p",{className:"text-2xl font-semibold",children:[c.totalFarmers," ",e.jsx("span",{className:"text-sm font-normal",children:"farmers"})]})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600 mr-4",children:e.jsx(L,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Payments"}),e.jsxs("p",{className:"text-2xl font-semibold",children:[c.pendingPayments," ",e.jsx("span",{className:"text-sm font-normal",children:"payments"})]})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Price"}),e.jsxs("p",{className:"text-2xl font-semibold",children:["â‚¹",c.avgPrice.toLocaleString("en-IN")," ",e.jsx("span",{className:"text-sm font-normal",children:"/ quintal"})]})]})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"text-gray-400"})}),e.jsx("input",{type:"text",id:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Search procurements...",value:d,onChange:t=>g(t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",value:o,onChange:t=>f(t.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"crop",className:"block text-sm font-medium text-gray-700 mb-1",children:"Crop"}),e.jsxs("select",{id:"crop",className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",value:m,onChange:t=>y(t.target.value),children:[e.jsx("option",{value:"all",children:"All Crops"}),C.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date-range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"date",className:"block w-full pl-3 pr-3 py-2 text-base border border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",value:r.start,onChange:t=>u({...r,start:t.target.value}),placeholder:"Start Date"}),e.jsx("span",{className:"flex items-center",children:"to"}),e.jsx("input",{type:"date",className:"block w-full pl-3 pr-3 py-2 text-base border border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",value:r.end,onChange:t=>u({...r,end:t.target.value}),placeholder:"End Date"})]})]})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Procurement ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Farmer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crop Details"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.length>0?j.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.farmer}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Farmer ID: ",t.id.split("-").pop()]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.crop}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.variety," â€¢ ",t.quality]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[t.quantity," ",e.jsx("span",{className:"text-gray-500",children:"quintals"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["â‚¹",t.price,"/quintal"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G(t.quantity,t.price)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P(t.status)}`,children:t.status.replace("-"," ")}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(t.paymentStatus)}`,children:t.paymentStatus})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F(t.procurementDate)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-green-600 hover:text-green-900 mr-3",children:"View"}),t.status!=="completed"&&t.status!=="cancelled"&&e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Update"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-sm text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(v,{className:"h-12 w-12 text-gray-300 mb-2"}),e.jsx("p",{children:"No procurements found matching your criteria."}),e.jsx("button",{onClick:()=>{g(""),f("all"),y("all"),u({start:"",end:""})},className:"mt-2 text-green-600 hover:text-green-800 text-sm font-medium",children:"Clear all filters"})]})})})})]})})}),q&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(N,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Procurement Entry"}),e.jsx("div",{className:"mt-4",children:e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"farmer",className:"block text-sm font-medium text-gray-700",children:"Farmer Name"}),e.jsx("input",{type:"text",name:"farmer",id:"farmer",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:s.farmer,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"crop",className:"block text-sm font-medium text-gray-700",children:"Crop"}),e.jsxs("select",{id:"crop",name:"crop",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:s.crop,onChange:a,children:[e.jsx("option",{value:"",children:"Select Crop"}),e.jsx("option",{value:"Soybean",children:"Soybean"}),e.jsx("option",{value:"Groundnut",children:"Groundnut"}),e.jsx("option",{value:"Sunflower",children:"Sunflower"}),e.jsx("option",{value:"Mustard",children:"Mustard"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"variety",className:"block text-sm font-medium text-gray-700",children:"Variety"}),e.jsx("input",{type:"text",name:"variety",id:"variety",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:s.variety,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity (quintals)"}),e.jsx("input",{type:"number",name:"quantity",id:"quantity",min:"0.1",step:"0.1",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:s.quantity,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quality",className:"block text-sm font-medium text-gray-700",children:"Quality"}),e.jsxs("select",{id:"quality",name:"quality",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:s.quality,onChange:a,children:[e.jsx("option",{value:"Grade A",children:"Grade A"}),e.jsx("option",{value:"Grade B",children:"Grade B"}),e.jsx("option",{value:"Grade C",children:"Grade C"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price per quintal (â‚¹)"}),e.jsx("input",{type:"number",name:"price",id:"price",min:"0",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:s.price,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"procurementDate",className:"block text-sm font-medium text-gray-700",children:"Procurement Date"}),e.jsx("input",{type:"date",name:"procurementDate",id:"procurementDate",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500",value:s.procurementDate,onChange:a})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",children:"Create Procurement"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>x(!1),children:"Cancel"})]})]})})]})]})})})]})})]})})};export{E as default};
